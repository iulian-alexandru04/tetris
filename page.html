<!DOCTYPE html>
<html>
<body>

<div align="center">
<canvas id="myCanvas" width="500" height="750" style="border:1px solid #d3d3d3;">
Your browser does not support the HTML5 canvas tag.</canvas>
</div>

<script>
    function draw_rectangle(Y, X)
    {
        dx = 50;
        dy = 50;
        ctx.rect(X*dx, Y*dy, dx, dy);
    }
    function draw_frame()
    {
        ctx.clearRect(0, 0, 500, 750);
        ctx.beginPath();
        for(i=0; i<stored_blocks.length; i++)
            draw_rectangle(stored_blocks[i].Y, stored_blocks[i].X);
        draw_rectangle(y, x);
        ctx.stroke();
    }
    function key_handler(event)
    {
        var left_key = 37;
        var right_key = 39;
        if(event.keyCode == right_key && x*50+50<500)
            x++;
        
        if(event.keyCode == left_key && x > 0)
            x--;

        draw_frame();
    }
    function push_down()
    {
        y++;
        if(touched_ground(y))
        {
            keep_in_place(y, x)
            y = 0;
            x = 1;
        }
        draw_frame();
    }
    function touched_ground(y)
    {
        return y*50+50 == 750;
    }
    function keep_in_place(y, x)
    {
        stored_blocks.push({X: x, Y:y});
    }
var y = 0;
var x = 1;
var stored_blocks = [];
var c = document.getElementById("myCanvas");
var ctx = c.getContext("2d");
    
setInterval(push_down, 500);
window.addEventListener("keydown", key_handler);
</script>

</body>
</html>